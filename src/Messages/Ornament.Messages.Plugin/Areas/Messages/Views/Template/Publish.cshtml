@using Microsoft.Ajax.Utilities
@using Ornament
@using Ornament.Web.UI.Theme
@model Ornament.Messages.Plugin.Areas.Messages.Models.PublisherTemplate

@{
    ViewBag.Title = "Publisher notify template";
    Layout = OrnamentContext.Configuration.Layout();
}
<form>
    @Html.HiddenFor(s=>s.Id)
    @using (var panel = Html.Panel("col-4 col-md-4"))
    {
        @panel.Header(@<text>

        </text>)
    
        @panel.Body(@<text>
                         @{ var isfirst = true;}
                         <ul class="nav nav-tabs">

                             @foreach (var key in this.Model.Variables.Keys)
                             {
                                 var active = isfirst ? "class='active'" : "";
                                 if (isfirst)
                                 {
                                     isfirst = false;
                                 }
                                     
                                     
                                 <li @active>
                                     <a data-toggle="tab" href="#@key">
                                         <i class="fa fa-list"></i>@key
                                     </a>
                                 </li>
                             }
                         </ul>

                         <div class="tab-content">
                             @{ isfirst = true;}
                             @foreach (var key in this.Model.Variables.Keys)
                             {
                                 var active = isfirst ? "active" : "";
                                 if (isfirst)
                                 {
                                     isfirst = false;
                                 }
                                 <div id="@key" class="tab-pane @active">
                                     <div class="col-lg-12 col-xs-12 col-sm-12">
                                         <table class="table table-condensed">
                                             @foreach (var varKey in this.Model.Variables[key].Keys)
                                             {
                                                 <tr>
                                                     <td>
                                                         @varKey
                                                     </td>
                                                     <td>
                                                         <input name="Variables[@key][@varKey]" value=""/>
                                                     </td>
                                                 </tr>
                                             }
                                         </table>
                                     </div>
                                 </div>
                             }
                         </div>
                     </text>)
    }
</form>

@using (var panel = Html.Panel("col-4"))
{
    

}
