<script src="@Url.Content("~/Scripts/jquery.endless-scroll.js")" type="text/javascript"></script>
<div class="form-search" style="margin: 0px 5px 5px 0">
    <input id="loginid" type="text" class="input-medium" style="width: 200px" />
    <a id="searchUser" class="btn"><i class="icon-search"></i></a>
</div>
<select id="userSearcher" multiple="multiple">
</select>
<script type="text/javascript">
    var pageIndex = 0;
    var searchContent = "";

    $(document).ready(function () {

        $("#userSearcher").endlessScroll({
            fireOnce: true,
            fireDelay: false,
            loader: "<div class=\"loading\"><div>",
            callback: function () {
                pageIndex++;
                InvokeSearch();
            }
        });

        $("#searchUser").click(function () {
            searchContent = $("#loginid").val();
            pageIndex = 0;
            InvokeSearch();
        });
    });

    function InvokeSearch() {
        var data = {
            loginId: searchContent,
            pageIndex: pageIndex
        };
        $.getJSON('@this.Url.Action("Search", "User", new { area = "MemberShips" })', data, AddToSelector);
    }

</script>
