@using System.Web.Optimization
@using Ornament
@using Ornament.Web
@using Qi.Web
@{
    var user = OrnamentContext.MemberShip.CurrentUser();
}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>SmartAdmin (AJAX)</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    @Scripts.Render("~/js/moment")
    @Scripts.Render("~/js/avalon")
    <script type="text/javascript"> avalon.config({ loader: false }) </script>
    @Scripts.Render("~/js/socketio")


    @* #CSS Links *@
    @* Basic Styles *@
    @Styles.Render("~/css/bootstrap")
    @Styles.Render("~/css/font-awesome")
    @* SmartAdmin Styles : Please note (smartadmin-production.css) was created using LESS variables *@
    <link rel="stylesheet" type="text/css" media="screen" href="/css/smartadmin-production-plugins.min.css">
    @Styles.Render("~/css/smartadmin-production.min.css")
    @Styles.Render("~/css/smartadmin-skins.min.css")

    @* SmartAdmin RTL Support  *@
    <link rel="stylesheet" type="text/css" media="screen" href="/css/smartadmin-rtl.min.css">

    @* We recommend you use "your_style.css" to override SmartAdmin
        specific styles this will also ensure you retrain your customization with each SmartAdmin update.
        <link rel="stylesheet" type="text/css" media="screen" href="css/your_style.css"> *@

    @* #FAVICONS *@
    <link rel="shortcut icon" href="/img/favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/img/favicon/favicon.ico" type="image/x-icon">

    @* #GOOGLE FONT *@
    <link rel="stylesheet" href="/css/fonts.css">

    @* #APP SCREEN / ICONS *@
    @* Specifying a Webpage Icon for Web Clip
        Ref: https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html *@
    <link rel="apple-touch-icon" href="/img/splash/sptouch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/img/splash/touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/img/splash/touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/img/splash/touch-icon-ipad-retina.png">

    @* iOS web-app metas : hides Safari UI Components and Changes Status Bar Appearance *@
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    @* Startup image for web apps *@
    <link rel="apple-touch-startup-image" href="/img/splash/ipad-landscape.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)">
    <link rel="apple-touch-startup-image" href="/img/splash/ipad-portrait.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)">
    <link rel="apple-touch-startup-image" href="/img/splash/iphone.png" media="screen and (max-device-width: 320px)">
</head>

@*

    TABLE OF CONTENTS.

    Use search to find needed section.

    ===================================================================

    |  01. #CSS Links                |  all CSS links and file paths  |
    |  02. #FAVICONS                 |  Favicon links and file paths  |
    |  03. #GOOGLE FONT              |  Google font link              |
    |  04. #APP SCREEN / ICONS       |  app icons, screen backdrops   |
    |  05. #BODY                     |  body tag                      |
    |  06. #HEADER                   |  header tag                    |
    |  07. #PROJECTS                 |  project lists                 |
    |  08. #TOGGLE LAYOUT BUTTONS    |  layout buttons and actions    |
    |  09. #MOBILE                   |  mobile view dropdown          |
    |  10. #SEARCH                   |  search field                  |
    |  11. #NAVIGATION               |  left panel & navigation       |
    |  12. #MAIN PANEL               |  main panel                    |
    |  13. #MAIN CONTENT             |  content holder                |
    |  14. #PAGE FOOTER              |  page footer                   |
    |  15. #SHORTCUT AREA            |  dropdown shortcuts area       |
    |  16. #PLUGINS                  |  all scripts and plugins       |

    ===================================================================

*@

@* #BODY *@
@* Possible Classes

    * 'smart-skin-{SKIN#}'
    * 'smart-rtl'         - Switch theme mode to RTL (will be avilable from version SmartAdmin 1.5)
    * 'menu-on-top'       - Switch to top navigation (no DOM change required)
    * 'hidden-menu'       - Hides the main menu but still accessable by hovering over left edge
    * 'fixed-header'      - Fixes the header
    * 'fixed-navigation'  - Fixes the main menu
    * 'fixed-ribbon'      - Fixes breadcrumb
    * 'fixed-footer'      - Fixes footer
    * 'container'         - boxed layout mode (non-responsive: will not work with fixed-navigation & fixed-ribbon)
*@

<body class="fixed-header fixed-ribbon fixed-footer">

    @* #HEADER *@
    <header id="header">
        @Html.Partial("/Views/Shared/Layout/_logo.cshtml")
        @* #PROJECTS: projects dropdown *@
        <div class="project-context hidden-xs">

            <span class="label">Projects:</span>
            <span class="project-selector dropdown-toggle" data-toggle="dropdown">Recent projects <i class="fa fa-angle-down"></i></span>

            @* Suggestion: populate this list with fetch and push technique *@
            <ul class="dropdown-menu">
                <li>
                    <a href="javascript:void(0);">Online e-merchant management system - attaching integration with the iOS</a>
                </li>
                <li>
                    <a href="javascript:void(0);">Notes on pipeline upgradee</a>
                </li>
                <li>
                    <a href="javascript:void(0);">Assesment Report for merchant account</a>
                </li>
                <li class="divider"></li>
                <li>
                    <a href="javascript:void(0);"><i class="fa fa-power-off"></i>Clear</a>
                </li>
            </ul>
            @* end dropdown-menu*@

        </div>
        @* end projects dropdown *@

        @* #TOGGLE LAYOUT BUTTONS *@
        @* pulled right: nav area *@
        <div class="pull-right">

            @* collapse menu button *@
            <div id="hide-menu" class="btn-header pull-right">
                <span><a href="javascript:void(0);" data-action="toggleMenu" title="Collapse Menu"><i class="fa fa-reorder"></i></a></span>
            </div>
            @* end collapse menu *@

            @* #MOBILE *@
            @* Top menu profile link : this shows only when top menu is active *@
            <ul id="mobile-profile-img" class="header-dropdown-list hidden-xs padding-5">
                <li class="">
                    <a href="#" class="dropdown-toggle no-margin userdropdown" data-toggle="dropdown">
                        <img src="/img/avatars/sunny.png" alt="John Doe" class="online" />
                    </a>
                    <ul class="dropdown-menu pull-right">
                        <li>
                            <a href="javascript:void(0);" class="padding-10 padding-top-0 padding-bottom-0"><i class="fa fa-cog"></i>Setting</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#ajax/profile.html" class="padding-10 padding-top-0 padding-bottom-0"><i class="fa fa-user"></i><u>P</u>rofile</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="javascript:void(0);" class="padding-10 padding-top-0 padding-bottom-0" data-action="toggleShortcut"><i class="fa fa-arrow-down"></i><u>S</u>hortcut</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="javascript:void(0);" class="padding-10 padding-top-0 padding-bottom-0" data-action="launchFullscreen"><i class="fa fa-arrows-alt"></i>Full <u>S</u>creen</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="login.html" class="padding-10 padding-top-5 padding-bottom-5" data-action="userLogout"><i class="fa fa-sign-out fa-lg"></i><strong><u>L</u>ogout</strong></a>
                        </li>
                    </ul>
                </li>
            </ul>

            @* logout button *@
            <div id="logout" class="btn-header transparent pull-right">
                <span><a href="@Url.Action("Logout", "Account", new { area = "" })" title="Sign Out" data-action="userLogout" data-logout-msg="You can improve your security further after logging out by closing this opened browser"><i class="fa fa-sign-out"></i></a></span>
            </div>
            @* end logout button *@

            @* search mobile button (this is hidden till mobile view port) *@
            <div id="search-mobile" class="btn-header transparent pull-right">
                <span><a href="javascript:void(0)" title="Search"><i class="fa fa-search"></i></a></span>
            </div>
            @* end search mobile button *@

            @* #SEARCH *@
            @* input: search field *@
            <form action="#ajax/search.html" class="header-search pull-right">
                <input id="search-fld" type="text" name="param" placeholder="Find reports and more">
                <button type="submit">
                    <i class="fa fa-search"></i>
                </button>
                <a href="javascript:void(0);" id="cancel-search-js" title="Cancel Search"><i class="fa fa-times"></i></a>
            </form>
            @* end input: search field *@

            @* fullscreen button *@
            <div id="fullscreen" class="btn-header transparent pull-right">
                <span><a href="javascript:void(0);" data-action="launchFullscreen" title="Full Screen"><i class="fa fa-arrows-alt"></i></a></span>
            </div>
            @* end fullscreen button *@

            @* #Voice Command: Start Speech *@
            <div id="speech-btn" class="btn-header transparent pull-right hidden-sm hidden-xs">
                <div>
                    <a href="javascript:void(0)" title="Voice Command" data-action="voiceCommand"><i class="fa fa-microphone"></i></a>
                    <div class="popover bottom">
                        <div class="arrow"></div>
                        <div class="popover-content">
                            <h4 class="vc-title">
                                Voice command activated

                                <br>
                                <small>Please speak clearly into the mic</small>
                            </h4>
                            <h4 class="vc-title-error text-center">
                                <i class="fa fa-microphone-slash"></i>Voice command failed

                                <br>
                                <small class="txt-color-red">Must <strong>"Allow"</strong> Microphone</small>
                                <br>
                                <small class="txt-color-red">Must have <strong>Internet Connection</strong></small>
                            </h4>
                            <a href="javascript:void(0);" class="btn btn-success" onclick=" commands.help() ">See Commands</a>
                            <a href="javascript:void(0);" class="btn bg-color-purple txt-color-white" onclick=" $('#speech-btn .popover').fadeOut(50); ">Close Popup</a>
                        </div>
                    </div>
                </div>
            </div>
            @* end voice command *@

            @* multiple lang dropdown : find all flags in the flags page *@
            @Html.Partial("~/Views/Shared/Layout/_language.cshtml")
            @* end multiple lang *@

        </div>
        @* end pulled right: nav area *@

    </header>
    @* END HEADER *@

    @* #NAVIGATION *@
    @* Left panel : Navigation area *@
    @* Note: This width of the aside area can be adjusted through LESS variables *@
    <aside id="left-panel">

        @* User info *@
        @Html.Partial("~/Views/Shared/Layout/_userInfo.cshtml")
        @Html.Partial("~/Views/Shared/Layout/_mainMenu.cshtml")

    </aside>
    @* END NAVIGATION *@

    @* #MAIN PANEL *@
    <div id="main" role="main">

        @* RIBBON *@
        <div id="ribbon">

            <span class="ribbon-button-alignment">
                <span id="refresh" class="btn btn-ribbon" data-action="resetWidgets" data-title="refresh" rel="tooltip" data-placement="bottom" data-original-title="<i class='text-warning fa fa-warning'></i> Warning! This will reset all your widget settings." data-html="true" data-reset-msg="Would you like to RESET all your saved widgets and clear LocalStorage?"><i class="fa fa-refresh"></i></span>
            </span>

            @* breadcrumb *@
            <ol class="breadcrumb">
                @* This is auto generated *@
            </ol>
            @* end breadcrumb *@

            @* You can also add more buttons to the
                ribbon for further usability

                Example below:

                <span class="ribbon-button-alignment pull-right" style="margin-right: 25px">
                    <span id="search" class="btn btn-ribbon hidden-xs" data-title="search"><i class="fa fa-grid"></i>Change Grid</span>
                    <span id="add" class="btn btn-ribbon hidden-xs" data-title="add"><i class="fa fa-plus"></i>Add</span>
                    <span id="search" class="btn btn-ribbon" data-title="search"><i class="fa fa-search"></i><span class="hidden-mobile">Search</span></span>
                </span>
            *@
        </div>
        @* END RIBBON *@

        @* #MAIN CONTENT *@
        <div id="content">
        </div>
        @*当遇到没有权限的加载，会要求用户使用其他用户名登录。
        *@
        <div class="modal fade" id="ajaxlogin" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                </div>
            </div>
        </div>
        @* END #MAIN CONTENT *@

    </div>
    @* END #MAIN PANEL *@

    @Html.Partial("Layout/_footer")

    @Html.Partial("Layout/_shotcut")

    <script src="/Scripts/plugin/fastclick/fastclick.min.js"></script>

    <script src="/Scripts/require.js" type="text/javascript"></script>

    <script type="text/javascript">

        require(['@Url.Content("~/scripts/config.js")'], function () {
            require(['@Amd.Url("~/scripts/modules/main")', "jquery", "jqueryui", "bootstrap", "app.config",
    "touch",
    "smarkNotify",
    "plugin/easy-pie-chart/jquery.easy-pie-chart.min",
    "maskedinput",
    "select2",
    "bsslider",
    "mbBrowser",
    @*"plugin/fullcalendar/jquery.fullcalendar.min.js",*@
    "util"
            ], function (main) {

                main.init("localhost:3000", "@user.Name",
                        "@user.LoginId",
                    "@(Request.Cookies[FormsAuthentication.FormsCookieName].Value)");


            });
        })
    </script>



</body>

</html>
