@using System.Text.RegularExpressions
@using Qi
@model Qi.Time?
@{
    string format = (ViewData.ModelMetadata.DisplayFormatString ?? "HH:mm:").ToLower();


    IDictionary<string, object> htmlAttris = null;
    if (ViewData.ContainsKey("HtmlAttributes"))
    {
        htmlAttris = ViewData["HtmlAttributes"] as IDictionary<string, object> ?? HtmlHelper.AnonymousObjectToHtmlAttributes(ViewData["HtmlAttributes"]);
        if (!htmlAttris.ContainsKey("class"))
        {
            htmlAttris.Add("class", "time");
        }
        else
        {
            htmlAttris["class"] += " time";
        }
    }
    else
    {
        htmlAttris = new Dictionary<string, object>
        {
            {"class", "time"}
        };
    }
    htmlAttris.Add("data-mask", Regex.Replace(format, "[hmsHMS]", "9"));
    htmlAttris.Add("data-mask-placeholder", "_");
}



@Html.TextBox("", Model ?? new Time(9, 0, 0), htmlAttris)