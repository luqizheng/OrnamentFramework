@using Ornament
@using System.Web.Mvc.Html;
@model string
@{
    string display = ViewData.ModelMetadata.DisplayName ?? ViewData.ModelMetadata.PropertyName;
    string inputName = string.Empty; // ViewData.TemplateInfo.HtmlFieldPrefix;    
    IDictionary<string, object> htmlAttris = new Dictionary<string, object>();

    if (ViewData.ContainsKey("HtmlAttributes"))
    {
        htmlAttris = ViewData["HtmlAttributes"] as IDictionary<string, object>;
        if (htmlAttris == null)
        {
            htmlAttris = HtmlHelper.AnonymousObjectToHtmlAttributes(ViewData["HtmlAttributes"]);
        }
    }
    if (htmlAttris.ContainsKey("class"))
    {
        htmlAttris["class"] = htmlAttris["class"] + " form-control";
    }
    else
    {
        htmlAttris.Add("class", "form-control");
    }
 
    var langs = from lang in OrnamentContext.Configuration.Languages
                select new SelectListItem()
                    {
                        Text = lang.Name,
                        Value = lang.Key,
                        Selected = lang.Key == this.Model
                    };
}

@Html.DropDownList(inputName, langs, htmlAttris)
