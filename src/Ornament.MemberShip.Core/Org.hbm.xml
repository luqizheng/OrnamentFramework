<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" namespace="Ornament.MemberShip" assembly="Ornament.MemberShip.Core">
  <subclass name="Org" discriminator-value="Org" extends="IPerformer">
    <join  table="MBS_Org">
      <key column="Id"></key>
      <property name="Remark" length="200" type="String"></property>
      <property name="Name" length="30" type="String"></property>
      <set name="Roles" table="MBS_OrgRoleRelation" lazy="true" cascade="none" access="nosetter.camelcase-underscore">
        <key column="OrgId"/>
        <many-to-many class="Role" column="RoleId"></many-to-many>
      </set>
      <property name="OrderId" access="nosetter.camelcase-underscore" length="900" ></property>
      <many-to-one class="Org" name="Parent" foreign-key="FK_ORG_SELF"></many-to-one>
      <set name="Childs">
        <key column="Parent"></key>
        <one-to-many class="Org"/>
      </set>
    </join>
  </subclass>
</hibernate-mapping>