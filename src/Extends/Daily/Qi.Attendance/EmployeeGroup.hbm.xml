<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" namespace="Qi.Attendance" assembly="Qi.Attendance">
  <class name="EmployeeGroup" table="Attendance_EmployeeGroup">
    <id name="Id" type="Guid">
      <generator class="guid"></generator>
    </id>
    <property name="Remark" length="200" type="String"></property>
    <property name="Name" length="30" type="String"></property>
    <set name="Equipments" table="EmployeeGroupEquipmentRelative"
         lazy="true" cascade="none" access="nosetter.camelcase-underscore">
      <key column="EmployeeGroupId"/>
      <many-to-many class="Equipment" column="EquipmentId"></many-to-many>
    </set>
    
    <component name="Options" access="nosetter.camelcase-underscore" class="EmployeeGroupOption">

      <set name="SpecialWorkDay" access="nosetter.camelcase-underscore" cascade="all">
        <key column="employeeGroupId"></key>
        <one-to-many class="SpecialWorkDayMark"/>
      </set>
      
      <map name="WeekSetting" access="nosetter.camelcase-underscore" table="Attendance_EmployeeGroupOptions_weekSetting" cascade="all">
        <key column="EmployeeGroupId"></key>
        <map-key type="System.DayOfWeek" column="dayOfWeek"></map-key>
        <one-to-many class="DayOfWeekWorkTime"/>
      </map>
    </component>
  </class>  
</hibernate-mapping>

