@using Qi.Web
@using SeajsBundles
@model Ornament.MemberShip.User[]
@{

    string display = ViewData.ModelMetadata.DisplayName ?? ViewData.ModelMetadata.PropertyName;
    var selected = new object();
    string ids = "";
    if (Model != null && Model.Length != 0)
    {
        selected = from user in Model
                   select new
                   {
                       id = user.Id,
                       text = user.Name
                   };
        ids = String.Join(",", from role in Model select role.Id);
    }
}

@Html.Hidden("", ids)
<style type="text/css">
    .select2-container {
  width: 260px;
}
</style>
<script type="text/javascript">
    require(["@Scripts.Url("/MemberShips/Scripts/Share/userSelect2.js")"], function(main) {
        var d = @Html.Raw(JsonHelper.ToJson(selected));
        main.Init("#@Html.Id("")", d);
    });
</script>
