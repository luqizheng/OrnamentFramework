@using Ornament.MemberShip;

@model IEnumerable<Org>

@{
    
}

 @helper RenderTree(Org org, bool show)
{
    var clz = org.Childs.Count != 0 ? "fa-plus-circle" : "fa-users";
    var isShow = show ? "" : "display:none";
     <li style="@isShow"><span id="@org.Id" style="cursor:pointer" ms-click="orgSelected"><i class="fa fa-lg @clz"></i>@org.Name</span>
     @if (org.Childs.Count != 0)
     {
         <ul>
         @foreach (var child in org.Childs)
         {
             @RenderTree(child, false);
         }
         </ul>
     }</li>
 }
<div class="tree">
    <ul>
    <li>
        <span><i class="fa fa-lg fa-folder-open"></i>Root</span>
           
        <ul>
            @foreach (var org in this.Model)
            {
                @RenderTree(org, true);
            }
        </ul>
    </li>
        </ul>
    
</div>
