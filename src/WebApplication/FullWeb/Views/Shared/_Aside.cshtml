@using System.Threading.Tasks
@using FullWeb.Helpers
@using Ornament.Web.SiteMap
<!-- Left panel : Navigation area -->
<!-- Note: This width of the aside area can be adjusted through LESS variables -->
<aside id="left-panel">

    <!-- User info -->
    @{ await Html.RenderPartialAsync("_CurrentUser"); }
    <!-- end user info -->
    <!-- NAVIGATION : This navigation is also responsive

    To make this navigation dynamic please make sure to link the node
    (the reference to the nav > ul) after page load. Or the navigation
    will not initialize.
    -->
    <nav>
        <!-- NOTE: Notice the gaps after each icon usage <i></i>..
        Please note that these links work a bit different than
        traditional href="" links. See documentation for details.
        -->
        @*<ul>
                <li class="@Html.RouteIf("index", "active")">
                    <a href="@Url.Action("index", "home")" title="Dashboard">
                        <i class="fa fa-lg fa-fw fa-home"></i> <span class="menu-item-parent">Dashboard</span>
                    </a>
                </li>

                <li>

                </li>
            </ul>*@

        <ul>
            @foreach (var item in NavManager.Root.ChildNavs)
            {
                <li>
                    <a href="@item.Url(Url)">
                        @if (item.IconClasses != null)
                        {
                            <i class="@item.IconClasses"></i>
                        }
                        <span class="menu-item-parent">@item.Name</span> 

                    </a>

                    @if (item.ChildNavs.Any())
                    {
                        <ul>
                            @foreach (var childItem in item.ChildNavs)
                            {
                                <li>
                                    <a href="@childItem.Url(Url)">
                                        @if (childItem.IconClasses != null)
                                        {
                                            <i class="fa fa-lg fa-fw fa-gear"></i>
                                        }
                                        <span class="menu-item-parent">@childItem.Name</span>
                                    </a>
                                </li>
                            }
                        </ul>
                    }

                </li>
            }
        </ul>
    </nav>
    <span class="minifyme" data-action="minifyMenu">
        <i class="fa fa-arrow-circle-left hit"></i>
    </span>

</aside>
<!-- END NAVIGATION -->