webpackJsonp([4],{12:function(t,e,n){function o(t){var e=r.define({$id:t,roles:[],edit:function(t){l.role=t,l.title="編輯角色",i.modal("show")},create:function(){l.title="新增角色",l.role={Id:"",Name:"",Remark:""},i.modal("show")}});a.list(0,30).done(function(t){e.roles=t}),i=$("#role-editor-dialog").modal({keyboard:!1,show:!1})}var i,r=n(6),a=n(13),l=null,u="roleIndex",s="roleEditor",c=n(15);t.exports={load:function(t){o(u),l=c.create(s,function(){i.modal("close")}),r.scan(t)},unload:function(){delete r.vmodels[u],delete r.vmodels[s]}}},13:function(t,e,n){var o="/api/roles",i=n(14).create(o);t.exports={list:function(t,e){return i.Get({pageIndex:t,pageSize:e})},save:function(t){return i.Post(t)}}},14:function(t,e,n){function o(t){this.opts={url:t,contentType:"application/json; charset=utf-8"},this.Put=function(t){var e=this.ext.call(this,"PUT",t);return i.ajax(e)},this.Delete=function(t){var e=this.ext.call(this,"DELETE",t);return t.id&&(e.url+="/"+t.id),i.ajax(e)},this.Post=function(t){var e=this.ext.call(this,"POST",t);return i.ajax(e)},this.Get=function(t){var e=this.ext.call(this,"GET",t);return i.ajax(e)},this.ext=function(t,e){var n=i.extend({},this.opts,{type:t});return n.data="GET"!==t?JSON.stringify(e):e,n}}var i=n(2);t.exports={create:function(t){return new o(t)}}},15:function(t,e,n){function o(t){return $("form",$("#"+t))}function i(t,e){n.e(1,function(){var i=n(7),r=o(t);i.forWebApi(r,function(){a.save(avalon.vmodels[t].role.$model).done(function(){alert("保存成功"),e()})})})}function r(t){var e=avalon.define({$id:t,role:{Id:"",Name:"",Remark:""},save:function(){o(t).submit()},title:""});return e}var a=n(13);t.exports={create:function(t,e){return i(t,e),r(t)}}}});