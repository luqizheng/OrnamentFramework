@using Ornament
@using Ornament.MemberShip
@using Ornament.MemberShip.Plugin.Models
@using Ornament.MemberShip.Properties
@using Qi.Web.Mvc
@model IEnumerable<Ornament.MemberShip.Role>
@{
    ViewBag.Title = Resources.Role;
    Layout = OrnamentContext.Configuration.BackendLayout();
    bool hasDelete = OrnamentContext.MemberShip.HasRight("Role", RoleOperator.Delete);
    bool hasModify = true;
    OrnamentContext.MemberShip.HasRight("Role", RoleOperator.Modify);
}
@section pageTitle
{
    <h3>@Resources.Role</h3>
}
<div class="widget">
    <div class="well body">
        <a href="@Url.Action("Create")" class="btn"><i class="icon-plus"></i>@Ornament.Properties.Resources.Create</a>

        <table class="table table-condensed table-striped">
            <thead>
                <tr>
                    @if (hasModify || hasDelete)
                    {
                        <th style="width: 100px"></th>
                    }
                    <th>
                        @Html.ContentFor(s => ((Role) null).Name)
                    </th>
                    <th>
                        @Html.ContentFor(s => ((Role) null).Remark)
                    </th>
                </tr>
            </thead>
            @foreach (Role item in Model)
            {
                <tr>
                    @if (hasModify || hasDelete)
                    {
                        <td>
                            @if (hasModify)
                            {
                                <a href="@Url.Action("Edit", new {id = item.Id})" title="@Ornament.Properties.Resources.Edit" class="btn btn-info btn-mini">
                                    <i class="icon-edit icon-white"></i></a>
                            }
                            @if (hasDelete)
                            {
                                <a href="@Url.Action("Delete", new {id = item.Id})" title="@Ornament.Properties.Resources.Edit" class="btn btn-danger btn-mini">
                                    <i class="icon-remove icon-white"></i></a>
                            }
                        </td>
                    }
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Remark)
                    </td>
                </tr>
            }
            <tfoot>
                <tr>
                    <td colspan="3">
                        <form>
                            @Html.Partial("NavPagination", ViewData["Nav"])
                        </form>
                    </td>
                </tr>
            </tfoot>
        </table>

    </div>
</div>